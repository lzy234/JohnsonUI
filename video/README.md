# 简易视频流服务器

这是一个基于Flask的简单视频流服务器，可以通过Web浏览器播放存储在服务器上的视频文件。

## 功能特点

- 自动列出videos目录中的所有视频文件
- 提供简洁的视频播放界面
- 支持通过URL直接访问视频流
- 支持公网访问
- 支持后台运行

## 使用方法

### 安装依赖

```bash
pip install -r requirements.txt
```

### 运行服务器

```bash
# 前台运行
python app.py

# 后台运行（推荐）
bash start.sh
```

### 访问服务器

1. 在浏览器中访问 http://服务器公网IP:5000
2. 点击视频名称即可播放视频

### 添加视频文件

将视频文件放入 `videos` 目录中即可自动识别。

## 公网访问说明

本服务器绑定到 `0.0.0.0`，这意味着它会监听所有可用的网络接口，包括公网IP。确保以下几点：

1. 服务器的5000端口已在防火墙中开放
2. 如果在云服务器上运行，需要在云平台控制台中开放5000端口
3. 访问时使用服务器的公网IP地址，例如：`http://123.45.67.89:5000`

## 后台运行

使用 `start.sh` 脚本启动服务器时，程序会在后台运行，并将日志保存在 `logs/server.log` 文件中。

- 查看运行状态：`ps -ef | grep python`
- 查看日志：`tail -f logs/server.log`
- 停止服务器：`pkill -f "python app.py"`

## 注意事项

- 默认端口为5000，可以在app.py文件中修改
- 如果是生产环境，建议使用gunicorn或uwsgi作为WSGI服务器
- 服务器需要能够读取视频文件的权限 